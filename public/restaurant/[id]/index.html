<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="robots" content="noindex, nofollow" />
    
    <!-- Favicon -->
    <link rel="icon" type="image/png" href="/app-icon.png" />
    <link rel="apple-touch-icon" href="/app-icon.png" />
    
    <title>Butter - Le guide des meilleurs restaurants de Paris</title>
    
    <!-- Open Graph Meta Tags -->
    <meta property="og:title" content="Butter - Le guide des meilleurs restaurants de Paris" />
    <meta property="og:description" content="D√©couvre les meilleurs restaurants de Paris sur Butter üßà" />
    <meta property="og:image" content="https://butter-universal-links-config.vercel.app/app-icon.png" />
    <meta property="og:url" content="https://butter-universal-links-config.vercel.app" />
    <meta property="og:type" content="website" />
    
    <!-- Twitter Card -->
    <meta name="twitter:card" content="summary" />
    <meta name="twitter:title" content="Butter - Le guide des meilleurs restaurants de Paris" />
    <meta name="twitter:description" content="D√©couvre les meilleurs restaurants de Paris sur Butter üßà" />
    <meta name="twitter:image" content="https://butter-universal-links-config.vercel.app/app-icon.png" />
    
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap');
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: linear-gradient(180deg, #FFFFFF 0%, #F5F5F0 100%);
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 20px;
            color: #111111;
        }
        
        .container {
            max-width: 400px;
            width: 100%;
            text-align: center;
        }
        
        .logo {
            width: 120px;
            height: 120px;
            margin: 0 auto 32px;
            background: #111111;
            border-radius: 28px;
            display: flex;
            align-items: center;
            justify-content: center;
            box-shadow: 0 8px 24px rgba(0, 0, 0, 0.12);
            overflow: hidden;
        }
        
        .logo img {
            width: 80px;
            height: 80px;
            object-fit: cover;
        }
        
        h1 {
            font-size: 28px;
            font-weight: 700;
            color: #111111;
            margin-bottom: 12px;
            line-height: 1.2;
        }
        
        .subtitle {
            font-size: 16px;
            color: #535353;
            margin-bottom: 40px;
            line-height: 1.5;
        }
        
        .buttons {
            display: flex;
            flex-direction: column;
            gap: 16px;
        }
        
        .btn {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 12px;
            padding: 18px 24px;
            border-radius: 12px;
            font-size: 16px;
            font-weight: 600;
            text-decoration: none;
            transition: all 0.2s ease;
            border: none;
            cursor: pointer;
            font-family: inherit;
        }
        
        .btn-primary {
            background: #111111;
            color: #FFFFFF;
        }
        
        .btn-primary:hover {
            background: #353535;
            transform: translateY(-2px);
            box-shadow: 0 8px 16px rgba(0, 0, 0, 0.15);
        }
        
        .btn-secondary {
            background: #FFFFFF;
            color: #111111;
            border: 1.5px solid #D9D9D9;
        }
        
        .btn-secondary:hover {
            border-color: #111111;
            background: #F5F5F0;
        }
        
        .btn-icon {
            width: 24px;
            height: 24px;
        }
        
        .info {
            margin-top: 40px;
            padding: 20px;
            background: rgba(255, 255, 255, 0.5);
            border-radius: 12px;
            border: 1px solid rgba(217, 217, 217, 0.5);
        }
        
        .info-text {
            font-size: 14px;
            color: #535353;
            line-height: 1.6;
        }
        
        .spinner {
            display: inline-block;
            width: 20px;
            height: 20px;
            border: 3px solid rgba(255, 255, 255, 0.3);
            border-radius: 50%;
            border-top-color: #FFFFFF;
            animation: spin 1s ease-in-out infinite;
        }
        
        @keyframes spin {
            to { transform: rotate(360deg); }
        }
        
        /* iOS specific */
        @media (prefers-color-scheme: dark) {
            body {
                background: linear-gradient(180deg, #1C1C1E 0%, #000000 100%);
            }
            
            h1 {
                color: #FFFFFF;
            }
            
            .subtitle {
                color: #8E8E93;
            }
            
            .info {
                background: rgba(28, 28, 30, 0.5);
                border-color: rgba(255, 255, 255, 0.1);
            }
            
            .info-text {
                color: #8E8E93;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="logo">
            <img src="/app-icon.png" alt="Butter" />
        </div>
        
        <h1>Ouvre ce restaurant dans Butter</h1>
        <p class="subtitle">Clique sur le bouton ci-dessous pour ouvrir directement le restaurant dans l'app</p>
        
        <div class="buttons">
            <button class="btn btn-primary" id="openAppBtn" onclick="openApp()">
                <span class="spinner" id="spinner" style="display: none;"></span>
                <span id="btnText">Ouvrir dans l'app</span>
            </button>
            
            <a href="https://apps.apple.com/fr/app/butter-guide-de-restaurants/id6749227938" class="btn btn-secondary">
                <svg class="btn-icon" fill="currentColor" viewBox="0 0 24 24">
                    <path d="M17.05 20.28c-.98.95-2.05.88-3.08.4-1.09-.5-2.08-.48-3.24 0-1.44.62-2.2.44-3.06-.4C2.79 15.25 3.51 7.59 9.05 7.31c1.35.07 2.29.74 3.08.8 1.18-.24 2.31-.93 3.57-.84 1.51.12 2.65.72 3.4 1.8-3.12 1.87-2.38 5.98.48 7.13-.57 1.5-1.31 2.99-2.54 4.09l.01-.01zM12.03 7.25c-.15-2.23 1.66-4.07 3.74-4.25.29 2.58-2.34 4.5-3.74 4.25z"/>
                </svg>
                T√©l√©charger Butter
            </a>
        </div>
        
        <div class="info">
            <p class="info-text">
                Si l'app ne s'ouvre pas automatiquement, clique sur le bouton "Ouvrir dans l'app" ci-dessus.
            </p>
        </div>
    </div>
    
<script>
        // URL du deep link
        const deepLinkUrl = window.location.href;
        
        // URLs de fallback vers les stores
        const appStoreUrl = 'https://apps.apple.com/fr/app/butter-guide-de-restaurants/id6749227938';
        const playStoreUrl = 'https://play.google.com/store/apps/details?id=com.tasenviedequoi.butter';
        
        // D√©tection de la plateforme
        function isIOS() {
            return /iPhone|iPad|iPod/.test(navigator.userAgent);
        }
        
        function isAndroid() {
            return /Android/.test(navigator.userAgent);
        }
        
        function getStoreUrl() {
            if (isIOS()) return appStoreUrl;
            if (isAndroid()) return playStoreUrl;
            return appStoreUrl; // Fallback par d√©faut
        }
        
        // Fonction pour ouvrir l'app
        function openApp() {
            const btn = document.getElementById('openAppBtn');
            const spinner = document.getElementById('spinner');
            const btnText = document.getElementById('btnText');
            
            // Afficher le spinner
            spinner.style.display = 'inline-block';
            btnText.textContent = 'Ouverture...';
            btn.disabled = true;
            
            // Essayer d'ouvrir l'app avec le deep link
            window.location.href = deepLinkUrl;
            
            // Apr√®s 2 secondes, si l'utilisateur est toujours sur la page, ouvrir le store
            setTimeout(function() {
                if (document.hasFocus()) {
                    window.location.href = getStoreUrl();
                }
            }, 2000);
        }
        
        // Auto-ouvrir l'app quand la page se charge (seulement si on n'a pas cliqu√©)
        window.addEventListener('load', function() {
            // Attendre 500ms puis essayer d'ouvrir automatiquement
            setTimeout(openApp, 500);
        });
        
        // Ajout d'un listener pour les Universal Links
        document.addEventListener('visibilitychange', function() {
            if (document.hidden) {
                // Page est cach√©e = l'app s'est probablement ouverte
                console.log('App opened');
            }
        });
    </script>
</body>
</html>
